# قسم المنافسات - كامل ✅

## الصفحات المتاحة:

### 1. صفحة قائمة المنافسات
- المسار: `/dashboard/competitions`
- عرض جميع المنافسات في جدول منظم
- عرض 8 أعمدة: رقم المنافسة، العنوان، النوع، تاريخ النشر، تاريخ فتح المظاريف، الحالة، الأيام المتبقية، أدخل بواسطة
- حساب تلقائي للأيام المتبقية مع ألوان تنبيهية (أحمر/برتقالي/أخضر)
- زر "منافسة جديدة" للإضافة

### 2. صفحة إضافة منافسة
- المسار: `/dashboard/competitions/new`
- نموذج إضافة منافسة جديدة
- **الحقول المطلوبة:**
  - رقم المنافسة (مطلوب، فريد)
  - عنوان المنافسة (مطلوب)
  - نوع المنافسة (مطلوب) - قائمة منسدلة:
    * منافسة عامة
    * منافسة محدودة
    * شراء مباشر
    * اتفاقية إطارية
    * طلب عروض أسعار
    * أخرى
  - تاريخ النشر (اختياري)
  - تاريخ فتح المظاريف (اختياري)
  - الحالة (مطلوب) - قائمة منسدلة:
    * مسودة
    * منشورة
    * مغلقة
    * مرساة
- يتم تسجيل اسم المدخل تلقائياً
- تسجيل تلقائي في سجل النشاط

### 3. صفحة عرض منافسة
- المسار: `/dashboard/competitions/[id]`
- عرض جميع تفاصيل المنافسة
- حساب الأيام المتبقية مع ألوان تنبيهية
- أزرار: تعديل، حذف
- عرض تاريخ الإضافة واسم المدخل

### 4. صفحة تعديل منافسة
- المسار: `/dashboard/competitions/[id]/edit`
- تعديل جميع بيانات المنافسة
- نفس الحقول الموجودة في صفحة الإضافة
- تسجيل تلقائي في سجل النشاط

## API Endpoints:

### GET /api/competitions
- جلب جميع المنافسات
- الترتيب: حسب تاريخ الإضافة (الأحدث أولاً)

### POST /api/competitions
- إضافة منافسة جديدة
- التحقق من عدم تكرار رقم المنافسة
- تسجيل في سجل النشاط

### GET /api/competitions/[id]
- جلب منافسة واحدة حسب الـ ID

### PUT /api/competitions/[id]
- تحديث منافسة موجودة
- التحقق من عدم تكرار رقم المنافسة
- تسجيل في سجل النشاط

### DELETE /api/competitions/[id]
- حذف منافسة
- تسجيل في سجل النشاط

## الميزات:

✅ حساب تلقائي للأيام المتبقية
✅ ألوان تنبيهية:
  - أخضر: أكثر من 7 أيام
  - برتقالي: 7 أيام أو أقل
  - أحمر: منتهية
✅ تسجيل تلقائي لاسم المدخل من الجلسة
✅ سجل نشاط كامل (إضافة، تعديل، حذف)
✅ تصميم متجاوب (Mobile-friendly)
✅ رسائل خطأ واضحة بالعربية
✅ تأكيد قبل الحذف
✅ واجهة سهلة الاستخدام

## حالات الحماية:

✅ التحقق من الجلسة (session check)
✅ منع تكرار رقم المنافسة
✅ التحقق من الحقول المطلوبة
✅ رسائل خطأ مفصلة

## الخطوة التالية:

يمكنك الآن:
1. تجربة إضافة منافسة جديدة
2. عرض وتعديل المنافسات
3. الانتقال لتطوير الأقسام الأخرى (الضمانات، العقود، الصرف)
